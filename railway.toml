# ---- Railway app config (VoiceGuide AirLink) ----

[build]
# Forziamo Railway a usare il Dockerfile nella root del progetto
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
# Healthcheck eseguito automaticamente da Railway
healthcheckPath = "/api/healthz"
healthcheckTimeout = 180

# Politiche di riavvio
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Usiamo il CMD del Dockerfile (alembic + uvicorn)
# Nessuno startCommand definito qui → Railway usa quello del Dockerfile

[env]
APP_VERSION = "1.0.9"
PYTHONUNBUFFERED = "1"
